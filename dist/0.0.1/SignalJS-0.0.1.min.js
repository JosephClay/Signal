var Signal=function(){var a=/\w([^:\.])*/g,b=[].splice,c=function(){for(var a,b,c=arguments,d=c[0],e=1,f=c.length;f>e;e+=1){b=c[e];for(a in b)d[a]=b[a]}},d=0,e=function(){this._cache={},this._active={}};e.construct=function(){return new e},e.extend=function(a,b){var d="function"==typeof a;d||(b=a);var e=this,f=function(){var b=e.apply(this,arguments);return d&&(b=a.apply(this,arguments)),b};c(f,this);var g=function(){};return g.prototype=this.prototype,f.prototype=new g,c(f.prototype,this.prototype,b),f.prototype.constructor=a||f,f},e.prototype={constructor:e,subscribe:function(a,b){this._subscriptions=this._subscriptions||{};var c=this._uniqueSubId(),d=this._subscriptions[a]||(this._subscriptions[a]=[]);return b.__subid__=c,d.push(b),c},unsubscribe:function(a,b){this._subscriptions=this._subscriptions||{};var c=this._subscriptions[a];if(c){for(var d=0,e=c.length;e>d;d+=1)if(c[d].__subid__===b)return c.splice(d,1),!0;return!1}},dispatch:function(){this._subscriptions=this._subscriptions||{};for(var a,c=arguments,d=b.call(c,0,1)[0],e=this._subscriptions[d]||(this._subscriptions[d]=[]),f=0,g=e.length;g>f;f++)a=e[f],a&&a.apply(null,c)},disable:function(a){return this._inactive=this._inactive||{},this._inactive[a]=this._inactive[a]||{},this._inactive[a]=c({},this._active[a]),delete this._active[a],this},enable:function(a){return this._inactive=this._inactive||{},this._active[a]=this._active[a]||{},this._active[a]=c({},this._inactive[a]),delete this._inactive[a],this},on:function(a,b){var c,d,e=this._cache[a];return e?(c=e,d=this._getEventLocation(c)):(c=this._cache[a]=this._parseConfig(a),d=this._getEventLocation(c)),d.push(b),this},bind:function(){this.on.apply(this,arguments)},off:function(a){var b,c=this._cache[a];return b=c?c:this._cache[a]=this._parseConfig(a),b.hasNamespace?this._active[b.handle][b.evt][b.namespace].length=0:this._active[b.handle][b.evt]={"":[]},this},unbind:function(){this.off.apply(this,arguments)},once:function(a,b){var c,d=!1;return this.on(a,function(){return function(){return d?c:(d=!0,c=b.apply(this,arguments),b=null,c)}})},trigger:function(){var a=arguments,c=b.call(a,0,1)[0],d=this._cache[c];eventConfig=d?d:this._cache[c]=this._parseConfig(c);var e=this._getEventLocation(eventConfig);if(eventConfig.hasNamespace)this._callEventArray(e,a);else{var f,g=this._active[eventConfig.handle][eventConfig.evt];for(f in g)this._callEventArray(g[f],a)}return this},listenTo:function(a,b,c){return a.on(b,c),this},stopListening:function(a,b){return a.off(b),this},_uniqueSubId:function(){return"s"+d++},_callEventArray:function(a,b){b=b||[];for(var c,d=0,e=a.length;e>d;d+=1)if(c=a[d],c&&c.apply(null,b)===!1)return},_parseConfig:function(b){var c=-1!==b.indexOf(":")?!0:!1,d=-1!==b.indexOf(".")?!0:!1,e=b.match(a),f={};return c&&d?(f.handle=e[0],f.evt=e[1],f.namespace=e[2]):c&&!d?(f.handle=e[0],f.evt=e[1],f.namespace=""):d&&!c?(f.handle="",f.evt=e[0],f.namespace=e[1]):(f.handle="",f.evt=e[0],f.namespace=""),f.hasHandle=c,f.hasNamespace=d,f},_getEventLocation:function(a,b){b=b||this._active;var c=b[a.handle]||(b[a.handle]={}),d=c[a.evt]||(c[a.evt]={}),e=d[a.namespace]||(d[a.namespace]=[]);return e},toString:function(){return"[Signal]"}};var f=new e;return f.core=e,f}();
//# sourceMappingURL=SignalJS-0.0.1.min.map