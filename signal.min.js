/*! signal-js - v0.1.0 - 2015-01-16 %>
 * https://github.com/JosephClay/signal-js
 * Copyright (c) 2013-2015 Joe Clay; License: MIT */
!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.signal=n()}}(function(){return function t(t,n,e){function r(i,a){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!a&&s)return s(i,!0);if(o)return o(i,!0);var f=Error("Cannot find module '"+i+"'");throw f.code="MODULE_NOT_FOUND",f}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(n){var e=t[i][1][n];return r(e?e:n)},u,u.exports,t,t,n,e)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;e.length>i;i++)r(e[i]);return r}({1:[function(y,v){function t(){this._active={}}var o,_=[].splice,p=function(t){return _.call(t,0,1)[0]},r=function(r){for(var t,n,i=arguments,e=1,o=i.length;o>e;e++){n=i[e];for(t in n)r[t]=n[t]}return r},n={},l=0,h=function(){return l++},d=/(?:([\w-]+):)?([\w-]*)(?:.([\w-]+))?/,s=function(n){var t=d.exec(n);return{h:t[1]===o?"":t[1],e:t[2]===o?"":t[2],ns:t[3]===o?"":t[3]}},f=function(t,e,n){n[t]=n[t]||{},r(n[t],e[t]),delete e[t]},a=function(i,t){t=t||[];for(var n,e,r=0,o=i.length;o>r;r+=1)if(n=i[r])if(e=n.length,1!==e){if(2!==e){if(3!==e){if(n.apply(null,t)===!1)return}else if(n(t[0],t[1],t[2])===!1)return}else if(n(t[0],t[1])===!1)return}else if(n(t[0])===!1)return},c=function(t,n){var e=n[t.h]||(n[t.h]={}),r=e[t.e]||(e[t.e]={}),i=r[t.ns]||(r[t.ns]=[]);return i},u=function(e,i){var o="function"==typeof e;o||(i=e);var n=function(){var n=t.apply(this,arguments);return o&&(n=e.apply(this,arguments)),n};r(n,t);var u=function(){};return u.prototype=t.prototype,n.prototype=new u,r(n.prototype,t.prototype,i),n.prototype.constructor=e||n,n};t.extend=u,t.prototype={constructor:t,subscribe:function(t,n){var e=this._subs||(this._subs={}),r=h(),i=e[t]||(e[t]=[]);return n.__signal_id__=r,i.push(n),r},unsubscribe:function(e,r){var i=this._subs||(this._subs={}),t=i[e];if(t){for(var n=0,o=t.length;o>n;n+=1)if(t[n].__signal_id__===r)return t.splice(n,1),!0;return!1}},dispatch:function(){for(var t,e=this._subs||(this._subs={}),r=arguments,i=p(r),o=e[i]||(e[i]=[]),n=0,u=o.length;u>n;n++)t=o[n],t&&t.apply(null,r)},disable:function(t){var n=this._active,e=this._inactive||(this._inactive={});return f(t,n,e),this},enable:function(t){var n=this._active,e=this._inactive||(this._inactive={});return f(t,e,n),this},on:function(t,e){var r=n[t]||(n[t]=s(t));return c(r,this._active).push(e),this},bind:function(){this.on.apply(this,arguments)},off:function(r){var e=this._active,t=n[r]||(n[r]=s(r));if(""===t.e){var i,o,u=e[t.h];for(i in u)for(o in u[i])o===t.ns&&(e[t.h][i][o].length=0)}else""!==t.ns?e[t.h]&&e[t.h][t.e]&&e[t.h][t.e][t.ns]&&(e[t.h][t.e][t.ns].length=0):e[t.h]&&(e[t.h][t.e]={"":[]});return this},unbind:function(){this.off.apply(this,arguments)},once:function(r,n){var t,e=!1;return this.on(r,function(){return e?t:(e=!0,t=n.apply(this,arguments),n=null,t)})},trigger:function(){var e=arguments,i=this._active,r=p(e),t=n[r]||(n[r]=s(r)),f=c(t,i);if(""!==t.ns)a(f,e);else{var o,u=i[t.h][t.e];for(o in u)a(u[o],e)}return this},listenTo:function(t,n,e){return t.on(n,e),this},stopListening:function(t,n){return t.off(n),this}};var i=function(){var n=new t;return n.prototype=t.prototype,n.extend=u,n},e=r(i,i());e.prototype=t.prototype,e.create=i,e.extend=u,v.exports=e},{}]},{},[1])(1)});