/*! signal-js - v0.0.7 - 2014-11-27 %>
 * https://github.com/JosephClay/signal-js
 * Copyright (c) 2013-2014 Joe Clay; License: MIT */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.signal=t()}}(function(){return function n(n,t,e){function r(i,a){if(!t[i]){if(!n[i]){var s="function"==typeof require&&require;if(!a&&s)return s(i,!0);if(u)return u(i,!0);var f=Error("Cannot find module '"+i+"'");throw f.code="MODULE_NOT_FOUND",f}var o=t[i]={exports:{}};n[i][0].call(o.exports,function(t){var e=n[i][1][t];return r(e?e:t)},o,o.exports,n,n,t,e)}return t[i].exports}for(var u="function"==typeof require&&require,i=0;e.length>i;i++)r(e[i]);return r}({1:[function(g,v){function n(){this._active={}}var r,_=[].splice,c=function(n){return _.call(n,0,1)[0]},i=function(r){for(var n,t,i=arguments,e=1,u=i.length;u>e;e++){t=i[e];for(n in t)r[n]=t[n]}return r},t={},p=0,l=function(){return p++},d=/(?:([\w-]+):)?([\w-]*)(?:.([\w-]+))?/,e=function(t){var n=d.exec(t);return{h:n[1]===r?"":n[1],e:n[2]===r?"":n[2],ns:n[3]===r?"":n[3]}},s=function(n,e,t){t[n]=t[n]||{},i(t[n],e[n]),delete e[n]},f=function(i,n){n=n||[];for(var t,e,r=0,u=i.length;u>r;r+=1)if(t=i[r])if(e=t.length,1!==e){if(2!==e){if(3!==e){if(t.apply(null,n)===!1)return}else if(t(n[0],n[1],n[2])===!1)return}else if(t(n[0],n[1])===!1)return}else if(t(n[0])===!1)return},a=function(n,t){var e=t[n.h]||(t[n.h]={}),r=e[n.e]||(e[n.e]={}),i=r[n.ns]||(r[n.ns]=[]);return i},u=function(e,r){var u="function"==typeof e;u||(r=e);var t=function(){var t=n.apply(this,arguments);return u&&(t=e.apply(this,arguments)),t};i(t,n);var o=function(){};return o.prototype=n.prototype,t.prototype=new o,i(t.prototype,n.prototype,r),t.prototype.constructor=e||t,t},h=function(){var t=new n;return t.extend=u,t};n.extend=u,n.prototype={constructor:n,construct:h,create:h,subscribe:function(n,t){var e=this._subs||(this._subs={}),r=l(),i=e[n]||(e[n]=[]);return t.__signal_id__=r,i.push(t),r},unsubscribe:function(e,r){var i=this._subs||(this._subs={}),n=i[e];if(n){for(var t=0,u=n.length;u>t;t+=1)if(n[t].__signal_id__===r)return n.splice(t,1),!0;return!1}},dispatch:function(){for(var n,e=this._subs||(this._subs={}),r=arguments,i=c(r),u=e[i]||(e[i]=[]),t=0,o=u.length;o>t;t++)n=u[t],n&&n.apply(null,r)},disable:function(n){var t=this._active,e=this._inactive||(this._inactive={});return s(n,t,e),this},enable:function(n){var t=this._active,e=this._inactive||(this._inactive={});return s(n,e,t),this},on:function(n,r){var i=t[n]||(t[n]=e(n));return a(i,this._active).push(r),this},bind:function(){this.on.apply(this,arguments)},off:function(i){var r=this._active,n=t[i]||(t[i]=e(i));if(""===n.e){var u,o,s=r[n.h];for(u in s)for(o in s[u])o===n.ns&&(r[n.h][u][o].length=0)}else""!==n.ns?r[n.h]&&r[n.h][n.e]&&r[n.h][n.e][n.ns]&&(r[n.h][n.e][n.ns].length=0):r[n.h]&&(r[n.h][n.e]={"":[]});return this},unbind:function(){this.off.apply(this,arguments)},once:function(r,t){var n,e=!1;return this.on(r,function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)})},trigger:function(){var r=arguments,u=this._active,i=c(r),n=t[i]||(t[i]=e(i)),h=a(n,u);if(""!==n.ns)f(h,r);else{var o,s=u[n.h][n.e];for(o in s)f(s[o],r)}return this},listenTo:function(n,t,e){return n.on(t,e),this},stopListening:function(n,t){return n.off(t),this}};var o=new n;o.extend=u,v.exports=o},{}]},{},[1])(1)});